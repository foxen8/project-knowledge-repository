import {
  Component,
  ElementRef,
  OnInit,
  QueryList,
  ViewChildren,
} from '@angular/core';
import { HelperService } from '../service/helper.service';

@Component({
  selector: 'app-landing-page',
  templateUrl: './landing-page.component.html',
  styleUrls: ['./landing-page.component.scss'],
})
export class LandingPageComponent implements OnInit {
  isAdmin = true;
  @ViewChildren('section') sectionElements!: QueryList<ElementRef>;
  currentSection = 0;
  sections = [
    {
      title: 'Αποθετήριο Γνώσεων',
      content:
        ',This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contenhis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contenhis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contenhis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content',
    },
    {
      title: 'Οικογένεις Θέσεων Εργασίας',
      content:
        'This section provides the background information.This section provides the background informationThis section provides the background informationThis section provides the background informationThis section provides the background informationThis section provides the background informationThis section provides the background informationThis section provides the background information This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content',
    },
    {
      title: 'Προφίλ Ρόλων',
      content:
        'This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis section outlines the methodology used.This section outlines the methodology usedThis section outlines the methodology usedThis section outlines the methodology usedThis section outlines the methodology usedThis section outlines the methodology usedThis section outlines the methodology used',
    },
    {
      title: 'Γενικα Περιγράμματα Θέσεων',
      content:
        'This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content,This is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph content.This is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis is the introduction paragraph contentThis section summarizes the findings.This section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findingsThis section summarizes the findings',
    },
  ];
  constructor(private helperService: HelperService) {}
  ngOnInit(): void {}
  ngAfterViewInit() {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = this.sectionElements
              .toArray()
              .findIndex((el) => el.nativeElement === entry.target);
            this.currentSection = index;
          }
        });
      },
      {
        root: null,
        threshold: 0.6,
      }
    );
    this.sectionElements.forEach((section) =>
      observer.observe(section.nativeElement)
    );
  }
  toggleContentFlag() {
    this.isAdmin = !this.isAdmin;
  }
  addSection() {
    this.helperService.openDialog();
  }
  editSection(title: string, descr: string) {
    this.helperService.openDialog(title, descr);
  }

  scrollToSection(index: number): void {
    const section = this.sectionElements.toArray()[index];
    if (section) {
      const offset = 60;
      const topPosition = section.nativeElement.offsetTop - offset;
      window.scrollTo({
        top: topPosition,
        behavior: 'smooth',
      });
    }
  }
  onDelete(sectionTitle?: string, sectionDescription?: string) {}
}